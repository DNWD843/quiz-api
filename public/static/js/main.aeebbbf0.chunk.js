(this["webpackJsonpreact-corporate"]=this["webpackJsonpreact-corporate"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(20),a=n.n(c),i=(n(25),n(26),n(27),n(3)),o=(n(28),n(5)),u=n.n(o),l=n(6);n(30),n(31);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var b=r.createElement("path",{transform:"translate(19 6.5) rotate(90)",d:"M5.341,12.247a1,1,0,0,0,1.317,1.505l4-3.5a1,1,0,0,0,.028-1.48l-9-8.5A1,1,0,0,0,.313,1.727l8.2,7.745Z"});function p(e,t){var n=e.title,s=e.titleId,c=d(e,["title","titleId"]);return r.createElement("svg",j({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),n?r.createElement("title",{id:s},n):null,b)}var O=r.forwardRef(p);n.p;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var h=r.createElement("path",{d:"M55.931,47.463L94.306,9.09c0.826-0.827,0.826-2.167,0-2.994L88.833,0.62C88.436,0.224,87.896,0,87.335,0   c-0.562,0-1.101,0.224-1.498,0.62L47.463,38.994L9.089,0.62c-0.795-0.795-2.202-0.794-2.995,0L0.622,6.096   c-0.827,0.827-0.827,2.167,0,2.994l38.374,38.373L0.622,85.836c-0.827,0.827-0.827,2.167,0,2.994l5.473,5.476   c0.397,0.396,0.936,0.62,1.498,0.62s1.1-0.224,1.497-0.62l38.374-38.374l38.374,38.374c0.397,0.396,0.937,0.62,1.498,0.62   s1.101-0.224,1.498-0.62l5.473-5.476c0.826-0.827,0.826-2.167,0-2.994L55.931,47.463z"});function m(e,t){var n=e.title,s=e.titleId,c=v(e,["title","titleId"]);return r.createElement("svg",f({enableBackground:"new 0 0 94.926 94.926",viewBox:"0 0 94.926 94.926",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),n?r.createElement("title",{id:s},n):null,h)}var w,x=r.forwardRef(m),_=(n.p,n(10)),g=n.n(_),y=n(4);!function(e){e.increaseQuestionNumber="INCREASE_QUESTION_NUMBER",e.setActiveAnswer="SET_ACTIVE_ANSWER",e.resetActiveAnswer="RESET_ACTIVE_ANSWER",e.setCorrectAnswer="SET_CORRECT_ANSWER"}(w||(w={}));var A,N,E=function(e,t){switch(t.type){case w.increaseQuestionNumber:return Object(y.a)(Object(y.a)({},e),{},{questionId:e.questionId+1});case w.setCorrectAnswer:return Object(y.a)(Object(y.a)({},e),{},{numberOfCorrectAnswers:e.numberOfCorrectAnswers+1});case w.setActiveAnswer:return Object(y.a)(Object(y.a)({},e),{},{activeAnswerId:t.payload});case w.resetActiveAnswer:return Object(y.a)(Object(y.a)({},e),{},{activeAnswerId:null})}},C=n(0),I={questionId:1,numberOfCorrectAnswers:0,activeAnswerId:null},S=Object(r.createContext)({state:I,dispatch:function(){}}),k=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){clearTimeout(t),t=setTimeout(e,n)}},R=function(e){var t=e.id,n=e.isCorrect,s=e.text,c=e.comment,a=e.percent,o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],j=u[1],d=Object(r.useContext)(S),b=d.state,p=d.dispatch,f=b.questionId,v=b.activeAnswerId,h=t===v;Object(r.useEffect)((function(){return function(){return j(!1)}}),[f]);var m=function(e){return Object(C.jsxs)("span",{className:"answers__percentage",children:[Object(C.jsx)(O,{className:"answers__icon answers__icon_checkmark",width:20,height:20}),e||"0","%"]})};return Object(C.jsxs)("li",{className:g()("answers__item",{answers__item_unselected:v&&!l},{answers__item_selected:h&&l},{answers__item_correct:v&&n},{answers__item_wrong:h&&!1===n}),children:[function(){if(l&&h)return Object(C.jsx)(C.Fragment,{children:!1===n?Object(C.jsxs)("span",{className:"answers__percentage",children:[Object(C.jsx)(x,{className:"answers__icon answers__icon_cross",width:10,height:10}),a,"%"]}):!0===n?m(a):null});if(!l&&v){if(!h&&n)return m(a);if(a)return Object(C.jsxs)("span",{className:"answers__percentage",children:[a,"%"]})}}(),Object(C.jsx)("button",{className:"answers__button",type:"button",onClick:k((function(){var e;p((e=t,{type:w.setActiveAnswer,payload:e})),j(!0)})),disabled:!!v,children:s}),h&&Object(C.jsx)("span",{className:"answers__hint",children:c})]})},q=function(e){var t=e.answers;return Object(C.jsx)("ul",{className:g()("answers"),children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.text,r=e.isCorrect,s=e.comment,c=e.percent;return Object(C.jsx)(R,{id:t,text:n,isCorrect:r,comment:s,percent:c},t)}))})};!function(e){e.getQuestion="https://fun.i-novus.ru/api/question",e.postAnswer="https://fun.i-novus.ru/api/question",e.postResult="https://fun.i-novus.ru/api/result"}(A||(A={})),function(e){e.getQuestion="http://localhost:8080/api/question",e.postAnswer="http://localhost:8080/api/question",e.postResult="http://localhost:8080/api/result"}(N||(N={}));var L=n(7),T=n.n(L),P=(n(51),function(){var e=Object(r.useContext)(S).state.numberOfCorrectAnswers,t=function(e,t){var n=Object(r.useState)(),s=Object(i.a)(n,2),c=s[0],a=s[1],o=Object(r.useState)(!0),j=Object(i.a)(o,2),d=j[0],b=j[1];return Object(r.useEffect)((function(){return function(){var n=Object(l.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T.a.get(e,{params:{correctAnswersCounter:t}});case 3:r=n.sent,a(r.data),b(!1),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0),b(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}()(),function(){return b(!0)}}),[t]),{data:c,isLoading:d}}(A.postResult,e),n=t.data,s=t.isLoading;return Object(C.jsx)(C.Fragment,{children:s?"\u0418\u0438\u0438...":Object(C.jsxs)("div",{className:"result",children:[Object(C.jsx)("div",{className:"result__score",children:Object(C.jsxs)("span",{children:[e,"/",8]})}),Object(C.jsxs)("div",{className:"result__content",children:[Object(C.jsx)("h3",{className:"result__title",children:null===n||void 0===n?void 0:n.title}),Object(C.jsx)("p",{className:"result__text",children:null===n||void 0===n?void 0:n.text})]})]})})}),Q=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),a=Object(i.a)(c,2),o=a[0],j=a[1],d=Object(r.useState)(!0),b=Object(i.a)(d,2),p=b[0],O=b[1],f=Object(r.useContext)(S),v=f.state,h=f.dispatch,m=v.questionId,x=v.activeAnswerId;Object(r.useEffect)((function(){return Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T()({method:"get",url:A.getQuestion,params:{questionId:m}});case 3:t=e.sent,s(t.data),O(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0),O(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){return O(!0)}}),[m]),Object(r.useEffect)((function(){x&&Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T()({method:"post",url:A.postAnswer,data:{questionId:m,answerId:x}});case 3:t=e.sent,n=t.data,s(n),n.answers[x-1].isCorrect&&h({type:w.setCorrectAnswer}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[x]);return o?Object(C.jsx)(P,{}):Object(C.jsx)(C.Fragment,{children:p?"\u041b\u043e\u0443\u0434\u044d\u0440...":Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card__number",children:[m,"/",8]}),Object(C.jsx)("h3",{className:"card__title",children:null===n||void 0===n?void 0:n.title}),Object(C.jsx)("div",{className:"card__answers",children:Object(C.jsx)(q,{answers:null===n||void 0===n?void 0:n.answers})}),Object(C.jsx)("button",{className:"card__button",type:"button",onClick:k((function(){m<8?(h({type:w.increaseQuestionNumber}),h({type:w.resetActiveAnswer})):j(!0)}),1e3),children:m<8?"\u0414\u0430\u043b\u044c\u0448\u0435":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})})},B=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(C.jsx)("main",{className:"content",children:n?Object(C.jsx)(Q,{}):Object(C.jsxs)("div",{className:"start__content",children:[Object(C.jsx)("p",{children:"\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043c, \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442\u0435 \u043b\u0438 \u0432\u044b \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u0440\u043e\u0441\u0442\u043a\u043e\u0432\u044b\u0439 \u0441\u043b\u0435\u043d\u0433 \u0438 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043b\u0438 \u043f\u043e\u043d\u044f\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0444\u0430\u0440\u043c\u0438\u0442\u044c, \u0430 \u043a\u043e\u0433\u0434\u0430 \u2014 \u0440\u043e\u0444\u043b\u0438\u0442\u044c ;)"}),Object(C.jsx)("button",{className:"start__button",onClick:function(){s(!0)},children:"\u041d\u0430\u0447\u0430\u0442\u044c"})]})})},M=function(e){var t=function(t){var n=Object(r.useReducer)(E,I),s=Object(i.a)(n,2),c=s[0],a=s[1];return Object(C.jsx)(S.Provider,{value:{dispatch:a,state:c},children:Object(C.jsx)(e,Object(y.a)({},t))})};return t.displayName="withMainContext".concat(e.displayName),t}((function(){return Object(C.jsx)("div",{className:"app",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)(B,{})})})}));a.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.aeebbbf0.chunk.js.map